#pragma checksum "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "48c4f7b5056a00d0ab5cf6f5bc2eab36172ad75c"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Sys_RoleMultipleSelector), @"mvc.1.0.view", @"/Views/Sys/RoleMultipleSelector.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Sys/RoleMultipleSelector.cshtml", typeof(AspNetCore.Views_Sys_RoleMultipleSelector))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\_ViewImports.cshtml"
using Site.Cms;

#line default
#line hidden
#line 2 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\_ViewImports.cshtml"
using MicBeach.Web.Mvc;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"48c4f7b5056a00d0ab5cf6f5bc2eab36172ad75c", @"/Views/Sys/RoleMultipleSelector.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0e5000250b2a0bb9c30615591362c9282acaa0ce", @"/Views/_ViewImports.cshtml")]
    public class Views_Sys_RoleMultipleSelector : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/ztree/skin.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/ztree/jquery.ztree.all.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/ztree/ztree.exhide.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/ztree/tree.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("exclude", "Development", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.EnvironmentTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 1 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml"
  
    string allRole = ViewBag.AllRole;
    string nodeString = ViewBag.AllNodes;
    bool lastChild = ViewBag.LastChild;

#line default
#line hidden
            BeginContext(130, 88, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("environment", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "d4e2433382784deb8a4bdeace64cf4e2", async() => {
                BeginContext(143, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(149, 53, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "eca95a9122c84f4fb9dc4ec86cfd89c5", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(202, 2, true);
                WriteLiteral("\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.EnvironmentTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(218, 525, true);
            WriteLiteral(@"
<style type=""text/css"">
    .ztree li span.button.ico_docu {
        background-position: -110px 0;
    }

    .ztree li span.button.chk.checkbox_false_part {
        background-position: 0px 0px;
    }
</style>
<div id=""pc-body"" class=""b_none"">
    <div id=""pc-body-inner"">
        <ul id=""role_tree"" class=""ztree""></ul>
    </div>
</div>
<div id=""pc-foot"">
    <div class=""txt-right form-submitbtn-con pdr-10""><button type=""button"" onclick=""ConfirmSelect()"" class=""btn btn-blue"">确定</button></div>
</div>
");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(766, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(772, 159, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("environment", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "b25d08ef2e2e49da8c245f6e25bae504", async() => {
                    BeginContext(785, 10, true);
                    WriteLiteral("\r\n        ");
                    EndContext();
                    BeginContext(795, 55, false);
                    __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ecdc941def0e44f0b94b802139de616c", async() => {
                    }
                    );
                    __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                    __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                    __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                    await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                    if (!__tagHelperExecutionContext.Output.IsContentModified)
                    {
                        await __tagHelperExecutionContext.SetOutputContentAsync();
                    }
                    Write(__tagHelperExecutionContext.Output);
                    __tagHelperExecutionContext = __tagHelperScopeManager.End();
                    EndContext();
                    BeginContext(850, 10, true);
                    WriteLiteral("\r\n        ");
                    EndContext();
                    BeginContext(860, 51, false);
                    __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "542fd048398c479faaed4a3b17ae66e5", async() => {
                    }
                    );
                    __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                    __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                    __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                    await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                    if (!__tagHelperExecutionContext.Output.IsContentModified)
                    {
                        await __tagHelperExecutionContext.SetOutputContentAsync();
                    }
                    Write(__tagHelperExecutionContext.Output);
                    __tagHelperExecutionContext = __tagHelperScopeManager.End();
                    EndContext();
                    BeginContext(911, 6, true);
                    WriteLiteral("\r\n    ");
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.EnvironmentTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(931, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(937, 112, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("environment", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e640aef4ea0a4968b0e0ccabc7b8c518", async() => {
                    BeginContext(972, 10, true);
                    WriteLiteral("\r\n        ");
                    EndContext();
                    BeginContext(982, 47, false);
                    __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "8eaf272f7e544a1486f82c152048c6a9", async() => {
                    }
                    );
                    __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                    __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                    __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                    await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                    if (!__tagHelperExecutionContext.Output.IsContentModified)
                    {
                        await __tagHelperExecutionContext.SetOutputContentAsync();
                    }
                    Write(__tagHelperExecutionContext.Output);
                    __tagHelperExecutionContext = __tagHelperScopeManager.End();
                    EndContext();
                    BeginContext(1029, 6, true);
                    WriteLiteral("\r\n    ");
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.EnvironmentTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_EnvironmentTagHelper.Exclude = (string)__tagHelperAttribute_5.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_5);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(1049, 603, true);
                WriteLiteral(@"
    <script type=""text/javascript"">
        var loadingIcoUrl = '/Content/Scripts/ztree/img/loading.gif';
        var seetings = {
            view: {
                nameIsHTML: true,
            },
            callback: {
                beforeExpand: BeforeExpand
            },
            check: {
                enable: true,
                chkboxType: { ""Y"": """", ""N"": """" }
            },
            edit: {
                enable: true,
                showRemoveBtn: false,
                showRenameBtn: false
            }
        };
        var allNodes = JSON.parse('");
                EndContext();
                BeginContext(1653, 20, false);
#line 54 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml"
                              Write(Html.Raw(nodeString));

#line default
#line hidden
                EndContext();
                BeginContext(1673, 40, true);
                WriteLiteral("\');\r\n        var allRoles = JSON.parse(\'");
                EndContext();
                BeginContext(1714, 17, false);
#line 55 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml"
                              Write(Html.Raw(allRole));

#line default
#line hidden
                EndContext();
                BeginContext(1731, 139, true);
                WriteLiteral("\');\r\n        var allRolesObj = new Object();\r\n        var roleNames = \'\';\r\n        var selectRole = new Array();\r\n        var lastChild = \'");
                EndContext();
                BeginContext(1872, 30, false);
#line 59 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml"
                     Write(lastChild.ToString().ToLower());

#line default
#line hidden
                EndContext();
                BeginContext(1903, 3635, true);
                WriteLiteral(@"' == ""true"";
        var hideRoles = new Array();
        var initSelectRoles = new Array();
        $(function () {
            InitAllRoleTree();
            for (var a in allRoles) {
                var role = allRoles[a];
                allRolesObj[role.SysNo] = role;
            }
            if (art.dialog.data(""RemoveRoleSysNos"")) {
                hideRoles = art.dialog.data(""RemoveRoleSysNos"").split("","");
            }
            if (art.dialog.data(""SelectRoleSysNos"")) {
                initSelectRoles = art.dialog.data(""SelectRoleSysNos"").split("","");
            }
            var treeObj = $.fn.zTree.getZTreeObj(""role_tree"");
            var hideParentNodes = new Object();
            for (var ha in hideRoles) {
                var nowHaSysNo = hideRoles[ha];
                var nodes = treeObj.getNodesByParam(""id"", nowHaSysNo);
                for (var n in nodes) {
                    var nowNode = nodes[n];
                    var parentNode = nowNode.getParentNode();
  ");
                WriteLiteral(@"                  treeObj.hideNode(nowNode);
                    if (parentNode != null) {
                        hideParentNodes[parentNode.id] = parentNode;
                        parentNode.halfCheck = true;
                    }
                }
            }
            for (var pn in hideParentNodes) {
                var pnode = hideParentNodes[pn];
                do {
                    var checkStatus = pnode.getCheckStatus();
                    if (checkStatus && !checkStatus.half) {
                        pnode.halfCheck = true;
                    }
                    var childNodes = pnode.children;
                    var hide = true;
                    for (var pcn in childNodes) {
                        var pchnode = childNodes[pcn];
                        hide = hide && pchnode.isHidden;
                        if (!hide) {
                            break;
                        }
                    }
                    if (hide) {
                     ");
                WriteLiteral(@"   treeObj.hideNode(pnode);
                    }
                    pnode = pnode.getParentNode();
                } while (pnode != null);
            }

            //初始选中
            for (var sa in initSelectRoles) {
                var nowSelectSysNo = initSelectRoles[sa];
                var nodes = treeObj.getNodesByParam(""id"", nowSelectSysNo);
                for (var n in nodes) {
                    var nowNode = nodes[n];
                    treeObj.checkNode(nowNode, true, true, true);
                }
            }
        })

        //初始化所有分类树控件
        function InitAllRoleTree() {
            $.fn.zTree.init($(""#role_tree""), seetings, allNodes);
        }

        //确认选择方法
        function ConfirmSelect() {
            roleNames = '';
            selectRole = new Array();
            var checkNodes = $.fn.zTree.getZTreeObj(""role_tree"").getCheckedNodes(true);
            for (var i = 0; i < checkNodes.length; i++) {
                var nowNode = checkNodes[i];
   ");
                WriteLiteral(@"             var nowRole = allRolesObj[nowNode.id];
                selectRole.push(nowRole);
            }
            art.dialog.close(true);
            art.dialog.opener.RoleMultipleSelectCallback(selectRole, '');
        }

        //展开加载数据
        function BeforeExpand(treeId, treeNode) {
            if (!treeNode || treeNode.loadData) {
                return true;
            }
            var zTree = $.fn.zTree.getZTreeObj(treeId);
            treeNode.icon = loadingIcoUrl;
            zTree.updateNode(treeNode);
            $.post('");
                EndContext();
                BeginContext(5539, 34, false);
#line 150 "F:\GitHubProject\MicBeach.Framework.Core\src\Application\Site\Site.Cms\Views\Sys\RoleMultipleSelector.cshtml"
               Write(Url.Action("LoadChildRoles","Sys"));

#line default
#line hidden
                EndContext();
                BeginContext(5573, 669, true);
                WriteLiteral(@"', { parentId: treeNode.id }, function (res) {
                if (!res) {
                    return;
                }
                var childNodes = JSON.parse(res.ChildNodes);
                zTree.addNodes(treeNode, -1, childNodes);
                treeNode.loadData = true;
                treeNode.icon = """";
                zTree.updateNode(treeNode);
                zTree.expandNode(treeNode, true);
                var childRoles = JSON.parse(res.RoleData);
                for (var c in childRoles) {
                    allRolesObj[c] = childRoles[c];
                }
            });
            return false;
        }
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
