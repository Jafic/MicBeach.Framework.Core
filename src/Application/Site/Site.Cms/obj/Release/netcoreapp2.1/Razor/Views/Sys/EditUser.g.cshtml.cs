#pragma checksum "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ff444b2101e473015b7b095c5fc62a9e01815122"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Sys_EditUser), @"mvc.1.0.view", @"/Views/Sys/EditUser.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Sys/EditUser.cshtml", typeof(AspNetCore.Views_Sys_EditUser))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\_ViewImports.cshtml"
using Site.Cms;

#line default
#line hidden
#line 2 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\_ViewImports.cshtml"
using MicBeach.Web.Mvc;

#line default
#line hidden
#line 5 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
using MicBeach.ViewModel.Sys;

#line default
#line hidden
#line 7 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
using MicBeach.Util.Extension;

#line default
#line hidden
#line 8 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
using MicBeach.Application.Identity.User;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ff444b2101e473015b7b095c5fc62a9e01815122", @"/Views/Sys/EditUser.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0e5000250b2a0bb9c30615591362c9282acaa0ce", @"/Views/_ViewImports.cshtml")]
    public class Views_Sys_EditUser : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<AdminUserViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
  
    ViewBag.Title = "编辑用户";

#line default
#line hidden
#line 10 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
  
    List<RoleViewModel> roleList = Model?.Roles ?? new List<RoleViewModel>(0);
    bool isAdd = Model == null || Model.SysNo <= 0;

#line default
#line hidden
            BeginContext(345, 134, true);
            WriteLiteral("\r\n<div id=\"pc-body\">\r\n    <div id=\"pc-body-inner\">\r\n        <div class=\"form-con\" id=\"home\">\r\n            <div class=\"form-ingroup\">\r\n");
            EndContext();
            BeginContext(611, 40, true);
            WriteLiteral("                <div class=\"fig-body\">\r\n");
            EndContext();
#line 23 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                     using (Html.AjaxBeginForm("Edituser", "sys", new AjaxFormOptions() { HttpMethod = "Post", OnSuccess = "SuccessCallback", OnFailure = "FailedCallback" }, new { id = "formvalide" }))
            {
                        

#line default
#line hidden
            BeginContext(894, 48, false);
#line 25 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                   Write(Html.Hidden("SysNo", null, new { id = "SysNo" }));

#line default
#line hidden
            EndContext();
            BeginContext(944, 165, true);
            WriteLiteral("                        <input type=\"hidden\" name=\"userRoles\" id=\"userRoles\" />\r\n                        <table cellpadding=\"0\" cellspacing=\"0\" class=\"form_table\">\r\n");
            EndContext();
#line 28 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                             if (isAdd)
                            {

#line default
#line hidden
            BeginContext(1181, 102, true);
            WriteLiteral("                                <tr>\r\n                                    <td class=\"txt-right tit\">* ");
            EndContext();
            BeginContext(1284, 30, false);
#line 31 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                           Write(Html.LabelFor(c => c.UserName));

#line default
#line hidden
            EndContext();
            BeginContext(1314, 89, true);
            WriteLiteral("</td>\r\n                                    <td>\r\n                                        ");
            EndContext();
            BeginContext(1404, 71, false);
#line 33 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.TextBoxFor(a => a.UserName, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(1475, 42, true);
            WriteLiteral("\r\n                                        ");
            EndContext();
            BeginContext(1518, 84, false);
#line 34 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.DefaultValidationMessageFor(a => a.UserName, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(1602, 84, true);
            WriteLiteral("\r\n                                    </td>\r\n                                </tr>\r\n");
            EndContext();
#line 37 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                            }
                            else
                            {

#line default
#line hidden
            BeginContext(1782, 102, true);
            WriteLiteral("                                <tr>\r\n                                    <td class=\"txt-right tit\">* ");
            EndContext();
            BeginContext(1885, 30, false);
#line 41 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                           Write(Html.LabelFor(c => c.UserName));

#line default
#line hidden
            EndContext();
            BeginContext(1915, 90, true);
            WriteLiteral("</td>\r\n                                    <td>\r\n                                        【");
            EndContext();
            BeginContext(2006, 14, false);
#line 43 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                    Write(Model.UserName);

#line default
#line hidden
            EndContext();
            BeginContext(2020, 85, true);
            WriteLiteral("】\r\n                                    </td>\r\n                                </tr>\r\n");
            EndContext();
#line 46 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                            }

#line default
#line hidden
            BeginContext(2136, 94, true);
            WriteLiteral("                            <tr>\r\n                                <td class=\"txt-right tit\">* ");
            EndContext();
            BeginContext(2231, 30, false);
#line 48 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                       Write(Html.LabelFor(c => c.RealName));

#line default
#line hidden
            EndContext();
            BeginContext(2261, 81, true);
            WriteLiteral("</td>\r\n                                <td>\r\n                                    ");
            EndContext();
            BeginContext(2343, 71, false);
#line 50 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.TextBoxFor(a => a.RealName, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(2414, 38, true);
            WriteLiteral("\r\n                                    ");
            EndContext();
            BeginContext(2453, 84, false);
#line 51 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.DefaultValidationMessageFor(a => a.RealName, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(2537, 76, true);
            WriteLiteral("\r\n                                </td>\r\n                            </tr>\r\n");
            EndContext();
#line 54 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                             if (isAdd)
                            {

#line default
#line hidden
            BeginContext(2685, 102, true);
            WriteLiteral("                                <tr>\r\n                                    <td class=\"txt-right tit\">* ");
            EndContext();
            BeginContext(2788, 25, false);
#line 57 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                           Write(Html.LabelFor(c => c.Pwd));

#line default
#line hidden
            EndContext();
            BeginContext(2813, 89, true);
            WriteLiteral("</td>\r\n                                    <td>\r\n                                        ");
            EndContext();
            BeginContext(2903, 67, false);
#line 59 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.PasswordFor(a => a.Pwd, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(2970, 42, true);
            WriteLiteral("\r\n                                        ");
            EndContext();
            BeginContext(3013, 79, false);
#line 60 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.DefaultValidationMessageFor(a => a.Pwd, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(3092, 84, true);
            WriteLiteral("\r\n                                    </td>\r\n                                </tr>\r\n");
            EndContext();
#line 63 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                            }

#line default
#line hidden
            BeginContext(3207, 28, true);
            WriteLiteral("                            ");
            EndContext();
#line 64 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                             if (!Model.SuperUser)
                            {

#line default
#line hidden
            BeginContext(3290, 102, true);
            WriteLiteral("                                <tr>\r\n                                    <td class=\"txt-right tit\">* ");
            EndContext();
            BeginContext(3393, 28, false);
#line 67 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                           Write(Html.LabelFor(c => c.Status));

#line default
#line hidden
            EndContext();
            BeginContext(3421, 89, true);
            WriteLiteral("</td>\r\n                                    <td>\r\n                                        ");
            EndContext();
            BeginContext(3511, 130, false);
#line 69 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.EnumToSelect(a => a.Status, UserStatus.正常, new { @class = "form-control w-200" }, "", "选择状态", ((int)Model.Status).ToString()));

#line default
#line hidden
            EndContext();
            BeginContext(3641, 42, true);
            WriteLiteral("\r\n                                        ");
            EndContext();
            BeginContext(3684, 82, false);
#line 70 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                   Write(Html.DefaultValidationMessageFor(a => a.Status, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(3766, 84, true);
            WriteLiteral("\r\n                                    </td>\r\n                                </tr>\r\n");
            EndContext();
#line 73 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                            }

#line default
#line hidden
            BeginContext(3881, 92, true);
            WriteLiteral("                            <tr>\r\n                                <td class=\"txt-right tit\">");
            EndContext();
            BeginContext(3974, 28, false);
#line 75 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                     Write(Html.LabelFor(c => c.Mobile));

#line default
#line hidden
            EndContext();
            BeginContext(4002, 81, true);
            WriteLiteral("</td>\r\n                                <td>\r\n                                    ");
            EndContext();
            BeginContext(4084, 69, false);
#line 77 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.TextBoxFor(a => a.Mobile, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(4153, 38, true);
            WriteLiteral("\r\n                                    ");
            EndContext();
            BeginContext(4192, 82, false);
#line 78 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.DefaultValidationMessageFor(a => a.Mobile, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(4274, 168, true);
            WriteLiteral("\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"txt-right tit\">");
            EndContext();
            BeginContext(4443, 27, false);
#line 82 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                     Write(Html.LabelFor(c => c.Email));

#line default
#line hidden
            EndContext();
            BeginContext(4470, 81, true);
            WriteLiteral("</td>\r\n                                <td>\r\n                                    ");
            EndContext();
            BeginContext(4552, 68, false);
#line 84 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.TextBoxFor(a => a.Email, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(4620, 38, true);
            WriteLiteral("\r\n                                    ");
            EndContext();
            BeginContext(4659, 81, false);
#line 85 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.DefaultValidationMessageFor(a => a.Email, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(4740, 168, true);
            WriteLiteral("\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"txt-right tit\">");
            EndContext();
            BeginContext(4909, 24, false);
#line 89 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                     Write(Html.LabelFor(c => c.QQ));

#line default
#line hidden
            EndContext();
            BeginContext(4933, 81, true);
            WriteLiteral("</td>\r\n                                <td>\r\n                                    ");
            EndContext();
            BeginContext(5015, 65, false);
#line 91 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.TextBoxFor(a => a.QQ, new { @class = "form-control w-200" }));

#line default
#line hidden
            EndContext();
            BeginContext(5080, 38, true);
            WriteLiteral("\r\n                                    ");
            EndContext();
            BeginContext(5119, 78, false);
#line 92 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                               Write(Html.DefaultValidationMessageFor(a => a.QQ, "", new { @class = "tip prompt" }));

#line default
#line hidden
            EndContext();
            BeginContext(5197, 110, true);
            WriteLiteral("\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n");
            EndContext();
#line 96 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                    }

#line default
#line hidden
            BeginContext(5330, 1526, true);
            WriteLiteral(@"
                </div>
            </div>

            <div class=""form-ingroup h-20""></div>
        </div>

        <div class=""form_tabgroup"" style=""height:auto"">
            <ul class=""nav nav-tabs"" role=""tablist"">
                <li role=""presentation"" class=""active"">
                    <a href=""#goodsinfo"" role=""tab"" data-toggle=""tab"" class=""bd-rad-0 bd-lw-0"">用户角色</a>
                </li>
            </ul>
            <div class=""form_tabgconent tab-content bd-lw-0 bd-rw-0 bd-bw-0"">
                <div role=""tabpanel"" class=""tab-pane active"" id=""goodsinfo"">
                    <div class=""panel-body pd-0 b-r-radnone b-l-radnone"">
                        <div class=""panel-body pd-5"">
                            <div class=""lis_lefttool""></div>
                            <div class=""lis_search"">
                                <button type=""button"" class=""btn btn-success"" id=""btn_selectrole""><i class=""glyphicon glyphicon-plus""></i> 选择角色</button>
                            </div>");
            WriteLiteral(@"
                        </div>
                    </div>

                    <table class=""table table-striped table-bordered nowrap wp-100 bd-lw-0"" cellpadding=""0"" cellspacing=""0"">
                        <thead>
                            <tr>
                                <th class=""bd-lw-0"">角色名</th>
                                <th width=""65px"">操作</th>
                            </tr>
                        </thead>
                        <tbody id=""roletabe_page_list"">
");
            EndContext();
#line 129 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                             if (roleList.IsNullOrEmpty())
                            {
                            }
                            else
                            {
                                foreach (var role in roleList)
                                {

#line default
#line hidden
            BeginContext(7142, 103, true);
            WriteLiteral("                                    <tr>\r\n                                        <td class=\"b_l_none\">");
            EndContext();
            BeginContext(7246, 9, false);
#line 137 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                                        Write(role.Name);

#line default
#line hidden
            EndContext();
            BeginContext(7255, 117, true);
            WriteLiteral("</td>\r\n                                        <td><button type=\"button\" class=\"btn btn-xs btn-danger btn_removerole\"");
            EndContext();
            BeginWriteAttribute("sysno", " sysno=\"", 7372, "\"", 7391, 1);
#line 138 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
WriteAttributeValue("", 7380, role.SysNo, 7380, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(7392, 104, true);
            WriteLiteral("><i class=\"glyphicon glyphicon-trash\"></i> 移除</button></td>\r\n                                    </tr>\r\n");
            EndContext();
#line 140 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                                }
                            }

#line default
#line hidden
            BeginContext(7562, 353, true);
            WriteLiteral(@"                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div id=""pc-foot"">
    <div class=""txt-right form-submitbtn-con pdr-10"">
        <button class=""btn btn-blue"" id=""btn_submit""><i class=""glyphicon glyphicon-floppy-save""></i> 提交</button>
    </div>
</div>
");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(7932, 174, true);
                WriteLiteral("\r\n    <script type=\"text/javascript\">\r\n        //BodyScroll = false;\r\n        PositionListTable = false;\r\n        var userRoles = new Object();\r\n        var userDetailUrl = \'");
                EndContext();
                BeginContext(8107, 51, false);
#line 159 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                        Write(Url.Action("AdminUserDetail","Sys",new { id="_id"}));

#line default
#line hidden
                EndContext();
                BeginContext(8158, 760, true);
                WriteLiteral(@"';
        $(function () {
            $(""#btn_submit"").click(function () {
                InitRoleValue();
                $(""#formvalide"").submit();
            });

            //初始化角色数据
            $(""#roletabe_page_list tr"").each(function (i, e) {
                var ele = $(e);
                var removeBtn = ele.find('.btn_removerole');
                var sysNo = $.trim(removeBtn.attr(""sysno""));
                if (sysNo == """") {
                    return true;
                }
                userRoles[sysNo] = { Data: { SysNo: sysNo }, Ele: ele, IsNew: false, Status: true };
            });

            //选择角色
            $(""#btn_selectrole"").click(function () {
                DialogPage({
                    url: '");
                EndContext();
                BeginContext(8919, 40, false);
#line 180 "F:\Project\Framework\MicBeach.Core\App-Test\Web\Application\Site\Site.Cms\Views\Sys\EditUser.cshtml"
                     Write(Url.Action("RoleMultipleSelector","Sys"));

#line default
#line hidden
                EndContext();
                BeginContext(8959, 2843, true);
                WriteLiteral(@"',
                    width: ""300px"",
                    height: ""350px"",
                    title: '选择角色',
                    ok: false,
                    cancel: null
                });
            });

            //移除角色
            $(""body"").on(""click"", "".btn_removerole"", function () {
                RemoveRole($(this).attr(""sysno""));
            });
        });

        //角色选择回调
        function RoleMultipleSelectCallback(roles, roleName) {
            if (!roles) {
                return;
            }
            $(""#role_empty_tr"").remove();
            for (var r in roles) {
                var roleData = roles[r];
                var nowRole = userRoles[roleData.SysNo];
                if (!nowRole) {
                    var ele = $('<tr><td class=""b_l_none"">' + roleData.Name + '</td><td><button type=""button"" class=""btn btn-xs btn-danger btn_removerole"" sysno=""' + roleData.SysNo + '""><i class=""glyphicon glyphicon-trash""></i> 移除</button></td></tr>');
                ");
                WriteLiteral(@"    nowRole = { Data: roleData, Ele: ele, IsNew: true, Status: true };
                    userRoles[roleData.SysNo] = nowRole;
                    $(""#roletabe_page_list"").append(ele);
                } else if (nowRole.Status == 0) {
                    nowRole.Status = 1;
                    $(""#roletabe_page_list"").append(nowRole.Ele);
                }
            }
        }

        //成功回调
        function SuccessCallback(res) {
            if (!res) {
                return;
            }
            res = JSON.parse(res);
            ResultMsg(res);
            if (res.Success) {
                window.top.RedirectCurrentPage(userDetailUrl.replace('_id', res.Data.SysNo), '用户详情');
            }
        }

        //失败回掉
        function FailedCallback() {
            ErrorMsg('提交失败');
        }

        //移除角色
        function RemoveRole(roleId) {
            if (!roleId) {
                return;
            }
            var nowRole = userRoles[roleId];
            i");
                WriteLiteral(@"f (!nowRole) {
                return;
            }
            nowRole.Status = false;
            userRoles[roleId] = nowRole;
            nowRole.Ele.remove();
        }

        //初始化角色
        function InitRoleValue() {
            if (!userRoles) {
                return;
            }
            //var removeRoles = new Array();
            //var newRoles = new Array();
            var nowRoles = new Array();
            for (var r in userRoles) {
                var nowRole = userRoles[r];
                if (!nowRole) {
                    return;
                }
                if (nowRole.Status) {
                    nowRoles.push(r);
                }
            }
            $(""#userRoles"").val(nowRoles.join(','));
        }
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<AdminUserViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
